<div class="welcome-container">
  <!-- Background Bubbles -->
  <app-bubble-background density="medium" color="blue" speed="normal"></app-bubble-background>

  <!-- Header Section -->
  <div class="header">
    <div class="logo-section">
      <div class="logo-container">
        <img src="logo.svg" alt="CrewCan Logo" class="logo" />
      </div>

      <div class="brand-info">
        <h1>{{ t()['welcome'].title }}</h1>
        <p class="subtitle">{{ t()['welcome'].subtitle }}</p>
        <div class="description-card">
          <div class="description-icon">
            <svg viewBox="0 0 20 20" fill="currentColor">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
          </div>
          <p class="description">{{ t()['welcome'].description }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- User Type Selection -->
    <div class="content-card">
      <div class="section-header">
        <h2>{{ t()['welcome'].selectUserType }}</h2>
        <p class="section-description">{{ t()['welcome'].userTypeHint }}</p>
      </div>

      <div class="user-type-options">
        <button
          class="user-type-option"
          [class.selected]="selectedUserType() === 'employee'"
          (click)="selectUserType('employee')"
        >
          <div class="user-type-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
            </svg>
          </div>
          <div class="user-type-content">
            <span class="user-type-name">{{ t()['welcome'].employee }}</span>
          </div>
          @if (selectedUserType() === 'employee') {
            <div class="check-icon">
              <svg viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
          }
        </button>

        <button
          class="user-type-option"
          [class.selected]="selectedUserType() === 'employer'"
          (click)="selectUserType('employer')"
        >
          <div class="user-type-icon">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2zM3 13h2v8H3v-8zm4 4h2v4H7v-4zm4-4h2v8h-2v-8zm4 0h2v8h-2v-8zm4-4h2v12h-2V9z"/>
            </svg>
          </div>
          <div class="user-type-content">
            <span class="user-type-name">{{ t()['welcome'].employer }}</span>
          </div>
          @if (selectedUserType() === 'employer') {
            <div class="check-icon">
              <svg viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
              </svg>
            </div>
          }
        </button>
      </div>
    </div>

    <!-- Language Selection -->
    <div class="content-card">
      <div class="section-header">
        <h2>{{ t()['welcome'].selectLanguage }}</h2>
        <p class="section-description">{{ t()['welcome'].languageHint }}</p>
      </div>

      <div class="language-options">
        @for (language of supportedLanguages; track language.code) {
          <button
            class="language-option"
            [class.selected]="currentLanguage().code === language.code"
            (click)="selectLanguage(language.code)"
          >
            <div class="language-content">
              <span class="flag">{{ language.flag }}</span>
              <span class="language-name">{{ language.nativeName }}</span>
            </div>
            @if (currentLanguage().code === language.code) {
              <div class="check-icon">
                <svg viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                </svg>
              </div>
            }
          </button>
        }
      </div>
    </div>
  </div>

  <!-- Bottom Section -->
  <div class="bottom-section">
    <button
      class="get-started-button"
      [disabled]="!canProceed()"
      [class.enabled]="canProceed()"
      (click)="onGetStarted()"
    >
      <span>{{ t()['welcome'].getStarted }}</span>
      <svg viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
      </svg>
    </button>

    @if (!canProceed()) {
      <p class="helper-text">
        {{ getCurrentLanguageCode() === 'hi'
          ? 'जारी रखने के लिए अपनी भूमिका और भाषा चुनें'
          : 'Select your role and language to continue' }}
      </p>
    }
  </div>
</div>